!function(i,n){if("function"==typeof define&&define.amd)define(["me-tools"],n);else if("object"==typeof exports){var t=require("me-tools");"object"==typeof module?module.exports=n(t):exports.meShowTransition=n(t)}else i.meShowTransition=n(i.meTools)}(this,function(i){function n(n,e,o){var r=this;"boolean"!=typeof e&&(o=e,e=!1);var a=n&&i.getElementById(n);if(!a)throw new Error("meShowTransition: Container element not found");t.call(r).options=i.mergeObjects(c,o),r.container=a,e?this.show(!0):this.hide(!0)}function t(){var i=this;return i.options={},i.container=null,i.showTransitionStartAnimation=null,i.showTransitionEndTimeout=null,i.hideTransitionStartAnimation=null,i.hideTransitionEndTimeout=null,i.showing=!1,i.hiding=!1,i.hidden=!1,i}function e(){var i=this;return i.container.classList.add(i.options.indicators.shown),i.container.setAttribute("aria-hidden","false"),i}function o(){var i=this;return i.container.classList.remove(i.options.indicators.shown),i.container.setAttribute("aria-hidden","true"),i}function r(i){i=i||!1;var n=this,t=n.options.callbacks.afterShow;return t&&t({container:n.container,immediate:i}),n.showing=!1,n}function a(i){i=i||!1;var n=this,t=n.container,e=n.options.callbacks.afterHide;return t.style.display="none",n.hiding=!1,n.hidden=!0,o.call(n),e&&e({container:t,immediate:i}),n}function s(){var n=this,t=n.options,e=n.container,o=t.callbacks.afterShowTransition,a=n.options.transitionEndElement;return window.cancelAnimationFrame(n.showTransitionStartAnimation),clearTimeout(n.showTransitionEndTimeout),i.unregisterEvent(n,a,"webkitTransitionEnd"),i.unregisterEvent(n,a,"transitionend"),o&&o({container:e,immediate:!1}),e.classList.remove(t.indicators.show),r.call(n),n}function d(){var n=this,t=n.options,e=n.container,o=t.callbacks.afterHideTransition,r=n.options.transitionEndElement;return window.cancelAnimationFrame(n.hideTransitionStartAnimation),clearTimeout(n.hideTransitionEndTimeout),i.unregisterEvent(n,r,"webkitTransitionEnd"),i.unregisterEvent(n,r,"transitionend"),o&&o({container:e,immediate:!1}),e.classList.remove(t.indicators.hide),a.call(n),n}var c={callbacks:{beforeShow:!1,beforeShowTransition:!1,afterShowTransition:!1,afterShow:!1,beforeHide:!1,beforeHideTransition:!1,afterHideTransition:!1,afterHide:!1,onDestroy:!1},transitionEndElement:!1,ignoreChildTransitions:!1,transitionMaxTime:500,indicators:{shown:"me-shown",show:"me-show",hide:"me-hide"}};return n.prototype.show=function(n){function t(i){a.ignoreChildTransitions&&i&&i.target&&i.target!==l||s.call(o)}var o=this,a=o.options,c=o.container,l=a.transitionEndElement||c;if(n||o.canShow()){var h=a.callbacks,m=h.beforeShow,u=h.beforeShowTransition,w=a.indicators;o.showing=!0,o.hiding&&d.call(o),o.hidden=!1,m&&m({container:c,immediate:n}),c.style.display="block",!n&&a.transitionMaxTime?(i.registerEvent(o,l,"webkitTransitionEnd",t),i.registerEvent(o,l,"transitionend",t),o.showTransitionEndTimeout=setTimeout(t,a.transitionMaxTime),o.showTransitionStartAnimation=window.requestAnimationFrame(function(){o.showTransitionStartAnimation=window.requestAnimationFrame(function(){u&&u({container:c,immediate:!1}),e.call(o),c.classList.add(w.show)})})):(e.call(o),r.call(o,n))}return o},n.prototype.hide=function(n){function t(i){o.ignoreChildTransitions&&i&&i.target&&i.target!==c||d.call(e)}var e=this,o=e.options,r=e.container,c=o.transitionEndElement||r;if(n||!e.canShow()){var l=o.callbacks,h=l.beforeHide,m=l.beforeHideTransition,u=o.indicators;e.hiding=!0,e.showing&&s.call(e),h&&h({container:r,immediate:n}),!n&&o.transitionMaxTime?(i.registerEvent(e,c,"webkitTransitionEnd",t),i.registerEvent(e,c,"transitionend",t),e.hideTransitionEndTimeout=setTimeout(t,o.transitionMaxTime),e.hideTransitionStartAnimation=window.requestAnimationFrame(function(){e.hideTransitionStartAnimation=window.requestAnimationFrame(function(){m&&m({container:r,immediate:!1}),r.classList.add(u.hide)})})):a.call(e)}return e},n.prototype.canShow=function(){return this.hiding||this.hidden},n.prototype.destroy=function(){var n=this,e=n.container,o=n.options.indicators;clearTimeout(n.showTransitionEndTimeout),clearTimeout(n.hideTransitionEndTimeout),i.unregisterEvent(n);for(var r in o)e.classList.remove(o[r]);return e.style.display="",e.removeAttribute("aria-hidden"),n.options.callbacks.onDestroy&&n.options.callbacks.onDestroy({container:e}),t.call(n),null},n});
/**
 * @license me-show-transition 3.0.4 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-show-transition for details
 */

//# sourceMappingURL=me-show-transition.min.js.map

/**
 * @license me-show-transition 3.0.4 Copyright (c) Mandana Eibegger <scripts@schoener.at>
 * Available via the MIT license.
 * see: https://github.com/meibegger/me-show-transition for details
 */
